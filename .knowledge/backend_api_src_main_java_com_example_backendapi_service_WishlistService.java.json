{"is_source_file": true, "format": "Java", "description": "This file defines the WishlistService class which manages wishlist operations such as listing, creating, deleting wishlists, and adding/removing items, with ownership checks and database interactions.", "external_files": ["com/example/backendapi/domain/Product.java", "com/example/backendapi/domain/User.java", "com/example/backendapi/domain/Wishlist.java", "com/example/backendapi/domain/WishlistItem.java", "com/example/backendapi/repository/ProductRepository.java", "com/example/backendapi/repository/WishlistItemRepository.java", "com/example/backendapi/repository/WishlistRepository.java"], "external_methods": ["wishlistRepository.findByUser", "wishlistRepository.findById", "wishlistRepository.save", "wishlistRepository.delete", "wishlistItemRepository.findByWishlistAndProduct", "wishlistItemRepository.findById", "wishlistItemRepository.save", "wishlistItemRepository.delete"], "published": ["list", "create", "delete", "addItem", "removeItem", "setTargetPrice"], "classes": [{"name": "WishlistService", "description": "A Spring Service class for managing user wishlists and wishlist items, including creation, deletion, addition/removal of items, and setting target prices, with ownership validation."}], "methods": [{"name": "list", "description": "Returns a list of wishlists belonging to the specified user."}, {"name": "create", "description": "Creates a new wishlist for the user with the specified name, defaulting to 'My Wishlist' if none provided."}, {"name": "delete", "description": "Deletes a wishlist by ID if it belongs to the specified user."}, {"name": "addItem", "description": "Adds a product to a user's wishlist, preventing duplicates."}, {"name": "removeItem", "description": "Removes an item from a wishlist if it belongs to the user and exists in that wishlist."}, {"name": "setTargetPrice", "description": "Sets a target price for a wishlist item."}], "calls": ["wishlistRepository.findByUser", "wishlistRepository.findById", "wishlistRepository.save", "wishlistRepository.delete", "productRepository.findById", "wishlistItemRepository.findByWishlistAndProduct", "wishlistItemRepository.findById", "wishlistItemRepository.save", "wishlistItemRepository.delete"], "search-terms": ["WishlistService", "wishlist", "WishlistItem", "wishlistRepository", "WishlistRepository", "WishlistItemRepository", "addItem", "removeItem", "setTargetPrice", "list", "create", "delete"], "state": 2, "file_id": 30, "knowledge_revision": 69, "git_revision": "", "hash": "1d88e9f20631c4858a590535139c9047", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/main/java/com/example/backendapi/service/WishlistService.java", "revision_history": [{"69": ""}]}